@model KhumaloCrafts.Models.Products

<h2 class="text-center mb-4">@((Model.ProductId == 0) ? "Insert New Product" : "Edit Product")</h2>

<form asp-action="@(Model.ProductId == 0 ? "InsertProduct" : "EditProduct")" method="post" class="shadow-sm p-4 bg-white rounded">
    <input type="hidden" asp-for="ProductId" />
    
    <div class="form-group">
        <label asp-for="Name" class="font-weight-bold">Name:</label>
        <input asp-for="Name" class="form-control" required />
    </div>

    <div class="form-group">
        <label asp-for="Description" class="font-weight-bold">Description:</label>
        <textarea asp-for="Description" class="form-control" required></textarea>
    </div>

    <div class="form-group">
        <label asp-for="Price" class="font-weight-bold">Price:</label>
        <input asp-for="Price" class="form-control" type="number" step="0.01" required />
    </div>

    <div class="form-group">
        <label asp-for="Category" class="font-weight-bold">Category:</label>
        <input asp-for="Category" class="form-control" required />
    </div>

    <div class="form-group">
        <label asp-for="ImageUrl" class="font-weight-bold">Image URL:</label>
        <input asp-for="ImageUrl" class="form-control" required />
    </div>

    <div class="form-group">
        <label asp-for="Availability" class="font-weight-bold">Availability:</label>
        <select asp-for="Availability" class="form-control" required>
            <option value="true" selected="@Model.Availability">Available</option>
            <option value="false" selected="@(!Model.Availability)">Not Available</option>
        </select>
    </div>

    <button type="submit" class="btn btn-primary btn-block">@((Model.ProductId == 0) ? "Add Product" : "Save Changes")</button>
</form>

<a asp-controller="Admin" asp-action="ViewProducts" class="btn btn-secondary mt-3">Back to Product List</a>

@if (Model.ProductId != 0)
{
    <form asp-action="DeleteProduct" method="post" class="mt-3" onsubmit="return confirm('Are you sure you want to delete this product?');">
        <input type="hidden" asp-for="ProductId" />
        <button type="submit" class="btn btn-danger">Delete Product</button>
    </form>
}

<style>
    h2 {
        margin-top: 20px;
        margin-bottom: 30px;
    }
    form {
        max-width: 600px;
        margin: 0 auto;
    }
    .btn-primary {
        background-color: #007bff;
        border: none;
    }
    .btn-primary:hover {
        background-color: #0056b3;
    }
    .btn-secondary {
        margin-top: 20px;
    }
    .btn-danger {
        margin-top: 20px;
    }
    .form-group {
        margin-bottom: 15px;
    }
</style>
